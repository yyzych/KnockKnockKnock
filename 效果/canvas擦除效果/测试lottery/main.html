<!doctype html>
<html lang="zh-cn">
<head>
	<meta charset="utf-8">
	<title>html5 canvas</title>
	<meta name="viewport" content="width=640, user-scalable=no, target-densitydpi=device-dpi">
	<style>
		body{
			opacity: 0;
		}
		.wrap{
			position: fixed;
			height: 100%;
			width:100%;
			left: 0px;
			top: 0px;
			opacity: 1;
			-webkit-transition:opacity 0.8s;
			-moz-transition:opacity 0.8s;
			-o-transition:opacity 0.8s;
			-ms-transition:opacity 0.8s;
			transition:opacity 0.8s;
		}
		.hiddleMask{
			display: none!important;
		}
		.z-opacity{
			opacity: 0;
		}
	</style>
</head>
<body>
	<div class="">
		<h1>你好啊</h1>
		<a href="http://www.baidu.com">百度</a>
	</div>
	<div id="wrap" class="wrap">
		这里是canvas
	</div>
	<input type="hidden" name="" id="lamp" value="cover.jpg">
	<script src="lottrey.js"></script>
	<script>
		window.onload=function () {
			var wrap=document.getElementById('wrap'),
				imgsrc=document.getElementById("lamp").value,
				coverType="image",
				width=640;
				height=window.innerHeight||document.documentElement.clientHeight,
				callback=callBack;

			var lottrey =new Lottery(wrap,imgsrc,coverType,width,height,callback);
			lottrey.init();
		}

		function callBack () {
			var wrap=document.getElementById('wrap');
			wrap.className=wrap.className+" "+"z-opacity";
			setTimeout(function () {
				wrap.className=wrap.className+" "+"hiddleMask";
			},1000);
		}
	</script>
</body>
</html>
<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin: 0px;
			padding: 0px;
			text-decoration: none;
		}
		body{
			font-size: 14px;
			color: #444;
		}
		div.menu_sidenav{
			width:150px;
		}
		li{
			line-height: 25px;
			list-style-type: none;
			border-top: 1px solid white;
			cursor:pointer;
		}
		/*li:after,li:before{
			content: "";
			display: block;
			clear: both;
			height: 0;
		}*/
		.leave1{
			/*padding-left: 10px;*/
			background-color: #313131;
			color: white;
			text-indent: 10px;
		}
		.leave2{
			/*padding-left: 20px;*/
			background-color: #525A8B;
			color: yellow;
			text-indent: 15px;
		}
		.leave3{
			/*padding-left: 30px;*/
			background-color: #A2ECB6;
			color: #444;
			text-indent: 20px;
		}
		ul>li:first-child{
			border-top: none;
		}
		.leave3 a{
			color: #444;
			display: block;
		}
		.leave3 a:hover{
			color: white;
			background-color:#FF9326;
		}
		.current a{
			color: white;
			background-color:#FF9326;
			display: block;
		}
		.leave1 span{
			display: block;
		}
	</style>
</head>
<body>
	<div class="menu_sidenav" id="sidenav">
		<ul>
			<li class="leave1">
				<span>一级菜单</span>
				<ul style="display:none;">
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li class="leave1">
				<span>一级菜单</span>
				<ul style="display:none;">
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li class="leave1">
				<span>一级菜单</span>
				<ul style="display:none;">
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
					<li class="leave2">
						<span>二级菜单</span>
						<ul style="display:none;">
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
							<li class="leave3">
								<a href="javascript:void(0);">三级菜单</a>
							</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
	</div>
	<script>
		(function () {
			function addClass(elem,value){
				if(!elem.className){
					elem.className=	value;
				}
				else{
					newClass=elem.className;
					newClass+=" ";
					newClass+=value;
					elem.className=newClass;
				}
			}
			var lis=document.getElementsByClassName("leave3");//getElementsByClasName()方法接收一个参数，即一个包含一或多个类名的字符串，返回带有指定类的所有元素的NodeList。传入多个类名时，类名的先后数序不重要
			for (var i = 0; i < lis.length; i++) {
				if(lis[i].className=="leave3"){
					lis[i].onclick=function(){
						for(var j=0;j<lis.length;j++){
							lis[j].className="leave3";
						}
						if(this.className=="current"){
							return;
						}else{
							addClass(this,"current");
						}
					};
				}
				// else if(lis[i].className=="leave1"||lis[i].className=="leave2"){
				// 	lis[i].onclick=function(){
				// 		var elem=this.firstChild.nextSibling;
				// 		if(this.status==0||typeof this.status==="undefined"){
				// 			if(elem.nodeType=="1"&&elem.nodeName.toLowerCase()=="ul"){
				// 				elem.style.display="block";
				// 				this.status=1;
				// 			}
				// 		}else{
				// 			if(elem.nodeType=="1"&&elem.nodeName.toLowerCase()=="ul"){
				// 				elem.style.display="none";
				// 				this.status=0;
				// 			}
				// 		}
				// 	};
				// }
			};
			var spans=document.getElementsByTagName("span");
			for(var i=0;i<spans.length;i++){
				spans[i].onclick=function(){
					var elem=this.nextSibling;
					while(elem.nodeType!="1"&&elem.nodeName.toLowerCase()!="ul"){
						elem=elem.nextSibling;
						if(!elem){
							return;
						}
					}
					if(this.status==0||typeof this.status==="undefined"){
						if(elem.nodeType=="1"&&elem.nodeName.toLowerCase()=="ul"){
							elem.style.display="block";
							this.status=1;
						}
					}else{
						if(elem.nodeType=="1"&&elem.nodeName.toLowerCase()=="ul"){
							elem.style.display="none";
							this.status=0;
						}
					}
				};
			}
		})();
	</script>
</body>
</html>
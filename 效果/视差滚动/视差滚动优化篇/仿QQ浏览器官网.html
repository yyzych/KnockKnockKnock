<!DOCTYPE html>
<!-- saved from url=(0079)http://www.alloyteam.com/wp-content/uploads/2014/02/v_demo6_qqbrowser_temp.html -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>仿QQ浏览器官网</title>
<style>
body{
	overflow: hidden; 
	position: relative;
	margin: 0;
}

.rotateBlock{
	position: absolute;
	left: 300px;
	top: -2000px;
	-webkit-transform: rotate(45deg);
	-webkit-transform-origin: left top;
}

.block{
	width: 2000px;
	height: 3000px;
	position: absolute;

	line-height: 3000px;
	font-size: 200px;
}

.green_b {
	background-color: #6BB445;
	left: 0;
}
.orange_b{
	background-color: #F5A81F;
	left: 2000px;
}
.blue_b{
	background-color: #09A1EC;
	left: 4000px;
}
 
</style></head>

<body>

<div class="container">
	<div id="rotateBlock" class="rotateBlock">
		<div id="green_b" class="block green_b" style="left: 80px;">
			Green <span class="sub_head"> Happiness is under the tree  that year</span>
		</div>
		<div id="orange_b" class="block orange_b" style="left: 2080px;">
			Red <span class="sub_head"> Youth is like a fire </span>
		</div>
		<div id="blue_b" class="block blue_b" style="left: 4080px;">
			Blue <span class="sub_head">Life is like a boat </span>
		</div>
	</div>
</div>

<script>
	var rotateBlock = document.getElementById('rotateBlock'),
		orange_b = document.getElementById('orange_b'),
		green_b = document.getElementById('green_b'),
		blue_b = document.getElementById('blue_b');

	window.addEventListener('mousewheel',mouseWheelHandler);
	window.addEventListener("DOMMouseScroll", mouseWheelHandler); //for firefox

	function mouseWheelHandler(e){
		var e = e || window.event;
		//使用wheelDelta的正负来判断鼠标是向上滚动还是向下滚动
		//wheelDelta是120的倍数(鼠标下滚是为负)，detail是firefox的，3的倍数(鼠标下滚为正)。
		var delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));

		green_b.style.left = getOldStyle(green_b,'left') + delta*80 + 'px';
		orange_b.style.left = getOldStyle(orange_b,'left') + delta*80 + 'px';
		blue_b.style.left = getOldStyle(blue_b,'left') + delta*80 + 'px';

		console.log(delta);
	}

    function getOldStyle(dom,paramName){

		var value = (dom.style[paramName] ? dom.style[paramName] : getCss(dom,paramName));
		if(value){
			return value.replace('px','')*1
		}else{
			return 0;
		}
	}

	function getCss(dom,cssName,selectorText){

		var cssRuleList = getMatchedCSSRules(dom); //CSSRuleList 类
		var value = '';

		for(var i = 0; i<cssRuleList.length; i++){
			var csslist = cssRuleList[i];

			if(selectorText){

				if( selectorText == csslist.selectorText){
					return csslist.style[cssName];
				}
			}else{
				value = csslist.style[cssName];

				if(value) return value;
			}
		
		}

	}


</script>


</body></html>
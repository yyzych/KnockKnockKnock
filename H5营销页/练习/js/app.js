define("appAudio",[],function(a,b,c){var d=function(){function e(){var d=this;a.on("tap",function(a){a.preventDefault(),$(this).hasClass("z-play")?d.pause():d.play(),c.addClass("z-show"),setTimeout(function(){c.removeClass("z-show")},1200)}),b.autoplay&&($(window).on("load",function(){d.play()}),$(document.body).one("touchstart",function(){d.play()}))}var a=$(".u-global-audio"),b=a.find("audio").get(0),c=a.find("span"),d={status:"off",play:function(){b.play(),a.addClass("z-play"),c.text("\u5f00\u59cb"),this.status="on"},pause:function(){b.pause(),a.removeClass("z-play"),c.text("\u5173\u95ed"),this.status="off"}};return e.apply(d),d}();c.exports=d}),define("appVideo",["./appAudio"],function(a,b,c){function f(){var a=Object.create(e);return a.video=null,a}var d=a("./appAudio"),e={createVideo:function(a,b){var c={src:a,width:"100%",height:"460px",controls:"controls"};return b&&(c.poster=b),$("<video>",c)},init:function(a,b){var e,c=this,f=a.find(".btn-play"),g=a.find(".video-box"),h=a.find(".mask-layer");f.on("tap",function(){h.removeClass("z-hide"),f.css("display","none"),c.video=c.createVideo(g.get(0).dataset.src,b||""),g.append(c.video),e=d.status,d.pause()}),a.find(".maskLayer-close").on("tap",function(){h.addClass("z-hide"),f.css("display","block"),c.video.remove(),"on"===e?d.play():d.pause()})}};c.exports=f()}),define("addHorizontalSlide",[],function(a,b,c){var d=function(a,b,c){c=c?c:function(){},$(a).swipeLeft(function(a){var c=b.children[0];$(c).addClass("z-prev-move"),setTimeout(function(){b.appendChild(c),$(c).removeClass("z-prev-move")},300),a.preventDefault()}),$(a).swipeRight(function(a){var c=b.children[0];$(c).addClass("z-next-move"),setTimeout(function(){b.appendChild(c),$(c).removeClass("z-next-move")},300),a.preventDefault()})};c.exports=d}),define("app",["zepto"],function(a,b,c){var d=a("zepto");a("./appAudio");var f=function(a){this.isDisableFlipPage=!1,this.isDisableFlipPrevPage=!1,this.isDisableFlipNextPage=!1,this.isInitComplete=!1,this.isFirstShowPage=!0,this.$app=a,this.$pages=this.$app.find(".page"),this.$currentPage=this.$pages.eq(0);var b=this,c=d(window);!function(){c.on("scroll",function(a){a.preventDefault()}).on("touchmove",function(a){a.preventDefault()}),c.on("img","mousemove",function(a){a.preventDefault()})}(),c.on("load",this.slideHandler.bind(this)),c.on("load",function(){var a=d(".app-mask");a.css("opacity",0),a.on("webkitTransitionEnd",function(){a.remove()}),b.isInitComplete=!0,b.showPage()})};f.prototype.slideHandler=function(){var b=this,c=null,e=null,f=0,g=0,h=0,i=0,j=!1,k=!1,l=!1,m=!1;b.$app.on("touchstart",function(a){b.isDisableFlipPage||(c=b.$pages.filter(".z-current").get(0),e=null,c&&(k=!0,l=!1,m=!0,h=0,i=0,f=a.touches[0].pageX,g=a.touches[0].pageY,c.classList.add("z-move"),c.style.webkitTransition="none"))}).on("touchmove",function(a){if(k&&(e||m)&&(i=a.touches[0].pageY-g,h=a.touches[0].pageX-f,Math.abs(i)>Math.abs(h)))if(i>0){if(b.isDisableFlipPrevPage)return;!l||m?(l=!0,m=!1,e&&(e.classList.remove("z-active"),e.classList.remove("z-move")),e=c.previousElementSibling&&c.previousElementSibling.classList.contains("page")?c.previousElementSibling:j?b.$pages.last().get(0):!1,e&&e.classList.contains("page")?(e.classList.add("z-active"),e.classList.add("z-move"),e.style.webkitTransition="none",e.style.webkitTransform="translateY(-100%)",c.style.webkitTransformOrigin="bottom center"):(c.style.webkitTransform="translateY(0px) scale(1)",e=null)):(c.style.webkitTransform="scale("+(window.innerHeight/(window.innerHeight+i)).toFixed(3)+")",e.style.webkitTransform="translateY(-"+(window.innerHeight-i)+"px)")}else if(0>i){if(b.isDisableFlipNextPage)return;l||m?(l=!1,m=!1,e&&(e.classList.remove("z-active"),e.classList.remove("z-move")),c.nextElementSibling&&c.nextElementSibling.classList.contains("page")?e=c.nextElementSibling:(e=b.$pages.first().get(0),j=!0),e&&e.classList.contains("page")?(e.classList.add("z-active"),e.classList.add("z-move"),e.style.webkitTransition="none",e.style.webkitTransform="translateY("+window.innerHeight+"px)",c.style.webkitTransformOrigin="top center"):(c.style.webkitTransform="translateY(0px) scale(1)",e=null)):(c.style.webkitTransform="scale("+((window.innerHeight+i)/window.innerHeight).toFixed(3)+")",e.style.webkitTransform="translateY("+(window.innerHeight+i)+"px)")}}).on("touchend",function(){k&&(k=!1,e?(b.isDisableFlipPage=!0,c.style.webkitTransition="-webkit-transform 0.4s ease-out",e.style.webkitTransition="-webkit-transform 0.4s ease-out",Math.abs(i)>Math.abs(h)&&Math.abs(i)>100?(c.style.webkitTransform="scale(0.2)",e.style.webkitTransform="translateY(0px)",setTimeout(function(){e.classList.remove("z-active"),e.classList.remove("z-move"),e.classList.add("z-current"),c.classList.remove("z-current"),c.classList.remove("z-move"),b.isDisableFlipPage=!1,b.$currentPage=d(e),d(e).trigger("current"),d(c).trigger("hide")},500)):(c.style.webkitTransform="scale(1)",e.style.webkitTransform=l?"translateY(-100%)":"translateY(100%)",setTimeout(function(){e.classList.remove("z-active"),c.classList.remove("z-move"),b.isDisableFlipPage=!1},500))):c.classList.remove("z-move"))})},f.prototype.showPage=function(a){var b=this;window.app_showPage?window.app_showPage:window.app_showPage=function(a){var c,e=typeof a;switch(e){case"number":c=b.$pages.eq(a);break;case"string":c=b.$pages.filter(a).first();break;case"object":c=d(a)}c&&c.length||(c=this.$currentPage),c&&c.length&&(this.$pages.filter(".z-current").removeClass("z-current"),c.css("-webkit-transform","none").addClass("z-current"),c.trigger("current"),this.$currentPage=c)},this.isInitComplete?window.app_showPage.apply(b,[a]):d(window).one("load",function(){window.app_showPage.apply(b,[a])})},f.prototype.setFlipPageMode=function(a){if("number"!=typeof a||0>a||a>3)throw"App.setFlipPageMode \u65b9\u6cd5\u8c03\u7528\u9519\u8bef\uff1a\u8bf7\u63d0\u4f9b\u4ee5\u4e0b\u6b63\u786e\u7684\u53c2\u6570\uff080:\u7981\u7528\u7ffb\u9875\u30011:\u542f\u7528\u4e0a\u4e0b\u7ffb\u9875\u30012:\u4ec5\u542f\u7528\u5411\u4e0a\u7ffb\u9875\u30013:\u4ec5\u542f\u7528\u5411\u4e0b\u7ffb\u9875\uff09";switch(a){case 0:this._isDisableFlipPage=!0,this._isDisableFlipPrevPage=!0,this._isDisableFlipNextPage=!0;break;case 1:this._isDisableFlipPage=!1,this._isDisableFlipPrevPage=!1,this._isDisableFlipNextPage=!1;break;case 2:this._isDisableFlipPage=!1,this._isDisableFlipPrevPage=!1,this._isDisableFlipNextPage=!0;break;case 3:this._isDisableFlipPage=!1,this._isDisableFlipPrevPage=!0,this._isDisableFlipNextPage=!1}},f.prototype.disableFlipPage=function(){this.isDisableFlipPage=!0},f.prototype.enableFlipPage=function(){this.isDisableFlipPage=!1},c.exports=new f(d(document.body))});